mode: local
log: info
scenarios:
  juice:
    type: fork
    exec: build/app.js
    configuration:
      recorder: process
      output:
        basename: juice
  mocha:
    type: spawn
    exec: npx
    argv:
      - mocha
      - -r
      - ts-node/register
      - -r
      - source-map-support/register
      - --recursive
      - test/server/**/*.ts
    configuration:
      recorder: mocha
serialization:
  method: toString
hooks:
  cjs: true
  esm: true
  apply: true
  http: true
  sqlite3: true
ordering: causal
validate:
  message: true
  appmap: true
exclude:
  - "-[0-9]+$"
  